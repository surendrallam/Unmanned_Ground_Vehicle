<html>
<head>
    <meta charset="UTF-8">
    <title>Sniffer@TX2</title>
    <script type="text/javascript">
        function send(value) {
            var request = false;
            if (window.XMLHttpRequest) {
                request = new XMLHttpRequest();
            } else if (window.ActiveXObject) {
                try {
                    request = new ActiveXObject("Msxml2.XMLHTTP");
                } catch (e) {
                    request = new ActiveXObject("Msxml.XMLHTTP");
                }
            }
            if (!request) {
                alert("XMLHttpRequest failed...");
                return false;
            }
            var send = 'code=' + value;
            request.open('POST', '/sniffer.php', true);
            request.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
            request.send(send);
        }
    </script>
<html>
<head>
<style>
.button {
  background-color: #4CAF50; /* Green */
  border: none;
  color: black;
  padding: 15px 29px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 33px;
  margin: 4px 2px;
  cursor: pointer;
}
.button1 {width: 250px;}
.button2 {width: 25%;}
.button3 {width: 100%;}
div.one {
  height:100px;
  margin-bottom:2em;
}

.one {width:100px}
.two {width:25%}

.one, .two {
  background:linear-gradient(45deg,#ffffff 49%,#aaa 50%,#ffffff 51%);
}
</style>
</head>
<body>

</body>


</head>
<body>
    <div class="parent" style="position: relative;">
      <img src="http://192.168.0.166:8080/?action=stream" style="width:950px; height:810px;border:2px solid black" />
      <img src="snifferlines4.png" style="position: absolute;left: 0;top: 2px;" />
    </div>
    <br>

    <div style="width:640px">
      <div style="width: 150%; text-align: center;">
         <button style="background: transparent;outline: none;border: none;"><img src="up.png" style="width:300px;" id="front" /></button>
      </div>
      <div style="width: 120%;float: left;">
        <div style="width: 38%; text-align: right;float: left;">
          <button style="background: transparent;outline: none;border: none;"><img src="left.png" style="width:300px;cursor: pointer;" id="left" /></button>
        </div>
        <div style="width: 12%;float: left;"></div>
        <div style="width: 15%; text-align: left;float: right;">
           <button style="background: transparent;outline: none;border: none;"><img src="right.png" style="width:300px;cursor: pointer;" id="right" /></button>
        </div>
      </div>
      <div style="width: 150%; text-align: center;float: left;">
         <button style="background: transparent;outline: none;border: none;"><img src="down.png" style="width:300px;cursor: pointer;" id="back" /></button>
      </div>
    </div>
    <script src="jquery.min.js"></script>

    <script>
      $("img").mousedown(function(e){
            console.log(e)
         e.preventDefault()
    });
      $("body").on("contextmenu",function(e){
               return false;
          });
 if( screen.width <= 480 ) {
  console.log('mobile')
  $("#right").bind('touchstart', function () {
                   send('right')
                }).bind('touchend', function () {
                   send('stop')
                });
                $("#left").bind('touchstart', function () {
                   send('left')
                }).bind('touchend', function () {
                   send('stop')
                });
                $("#front").bind('touchstart', function () {
                   send('front')
                }).bind('touchend', function () {
                   send('stop')
                });
                $("#back").bind('touchstart', function () {
                   send('back')
                }).bind('touchend', function () {
                   send('stop')
                });

        $("#stop").bind('touchstart', function () {
                   send('stop')
                }).bind('touchend', function () {
                   send('stop')
                });

 }else{
  console.log('desktop')
  $('#right').mousedown(function () {
                send('right')
         }).bind('mouseup mouseleave', function () {
                 send('stop')
             });
             $('#front').mousedown(function () {
                 send('front')
             }).bind('mouseup mouseleave', function () {
                 send('stop')
             });
             $('#back').mousedown(function () {
                 send('back')
             }).bind('mouseup mouseleave', function () {
                 send('stop')
             });
             $('#left').mousedown(function () {
                 send('left')
             }).bind('mouseup mouseleave', function () {
                 send('stop')
             });
         $("#stop").bind('touchstart', function () {
                 send('stop')
             }).bind('touchend', function () {
                 send('stop')
             });
 }
        if (typeof window.orientation !== 'undefined') {
         //   window.onload = function () {
//  console.log('for mobile')
        //   }
        } else {
  //      console.log('for desktop')
        }
    </script>
</body>
</html>
